!function(){"use strict";class e{constructor(e,t,s,r,i,n){this._id=e._id,this._name=e.name,this._link=e.link,this._cardSelector=t,this._handleImageClick=s,this._handleDeleteClick=r,this._userId=i,this._cardOwnerId=e.owner._id,this._handleLikeClick=n,this._likeArr=e.likes}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}_setEventListeners(){this._likeBtn=this._card.querySelector("#card_like-button"),this._deleteBtn=this._card.querySelector(".card__delete-btn"),this._image=this._card.querySelector(".card__image"),this._likeBtn.addEventListener("click",(()=>{this._toggleLikeBtn(),this._handleLikeClick(this._id)})),this._deleteBtn.addEventListener("click",(()=>this._handleDeleteClick(this._id))),this._image.addEventListener("click",(()=>this._openImage()))}_openImage(){this._handleImageClick(this._link,this._name)}_toggleLikeBtn(){this._likeBtn.classList.toggle("card__like-button_enabled")}isLiked(){return this._likeArr.some((e=>{let{_id:t}=e;return t===this._userId}))}_renderLikesCounter(){this._likeCounter=this._card.querySelector(".card__like_counter"),this._likeCounter.textContent=this._likeArr.length}updateLikesCounter(e){this._likeArr=e,this._renderLikesCounter()}removeCard(){this._card.remove(),this._card=null}getView(){return this._card=this._getTemplate(),this._setEventListeners(),this._image.src=this._link,this._image.alt=this._name,this._card.querySelector(".card__title").textContent=this._name,this._userId!==this._cardOwnerId&&this._deleteBtn.remove(),this.isLiked()&&this._toggleLikeBtn(),this._renderLikesCounter(),this._card}}const t={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__save-button",inactiveButtonClass:"modal__save-button-disabled",inputErrorClass:".modal__input-type-error",errorClass:"modal__error_visible",cardSectionClass:".cards__list",cardTeplate:".card__teplate"};class s{constructor(e,t){let{data:s,renderer:r}=e;this._renderedItems=s,this._renderer=r,this._container=document.querySelector(t)}addItem(e){this._container.prepend(e)}renderItems(){this._renderedItems.forEach((e=>{this._renderer(e)}))}}class r{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t)}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._closeByEsc)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._closeByEsc)}_closeByEsc=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._popupElement.addEventListener("mousedown",(e=>{e.target.classList.contains("modal")&&this.close(),e.target.classList.contains("modal__close-button")&&this.close()}))}}class i extends r{constructor(e,s){super({popupSelector:e}),this._popupFormEl=this._popupElement.querySelector(t.formSelector),this._inputEls=this._popupFormEl.querySelectorAll(t.inputSelector),this._handleSubmit=s,this._submitBtn=this._popupFormEl.querySelector(t.submitButtonSelector)}setInputValues(e){this._inputEls.forEach((t=>{t.value=e[t.name]}))}close(){super.close(),this._popupFormEl.reset()}_getInputValues(){const e={};return this._inputEls.forEach((t=>{e[t.name]=t.value})),e}toggleSaveBtn(){this._submitBtn.classList.toggle("modal__saving-button"),console.log("its working")}setEventListeners(){super.setEventListeners(),this._popupFormEl.addEventListener("submit",(()=>{this._handleSubmit(this._getInputValues())}))}}class n{constructor(e){let{title:t,subtitle:s}=e;this._nameEl=document.querySelector(t),this._jobEl=document.querySelector(s)}getUserInfo(){return{name:this._nameEl.textContent,about:this._jobEl.textContent}}setUserInfo(e){this._nameEl.textContent=e.name,this._jobEl.textContent=e.about}}const o=document.querySelector("#profile__add-button"),l=document.querySelector("#profile__edit-btn"),a=document.querySelector("#profile__avatar-btn"),h=document.querySelector(".profile__picture");let c,_,d;function u(t){const s=function(t){return new e(t,"#card__template",m,p,d,E).getView()}(t);c.addItem(s)}function m(e,t){f.open(e,t)}function p(e){S.open(),S.setSubmitAction((()=>{b.deleteCard(e).then((()=>{this.removeCard(),S.close()}))}))}function E(e){this.isLiked()?b.removeLike(e).then((e=>{this.updateLikesCounter(e.likes)})):b.addLike(e).then((e=>{this.updateLikesCounter(e.likes)}))}const b=new class{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers}getAppInfo(){return Promise.all([this.getInitialCards,this.getUserInfo]).then((e=>{console.log(e)}))}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(this._checkResponse)}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this._checkResponse)}updateUserInfo(e){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.about})}).then(this._checkResponse)}addNewCard(e){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e.name,link:e.link})}).then(this._checkResponse)}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._checkResponse)}addLike(e){return fetch(`${this._baseUrl}/cards/likes/${e}`,{method:"PUT",headers:this._headers}).then(this._checkResponse)}removeLike(e){return fetch(`${this._baseUrl}/cards/likes/${e}`,{method:"DELETE",headers:this._headers}).then(this._checkResponse)}updateProfilePicture(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e.link})}).then(this._checkResponse)}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"cd8b3986-f3d6-4da9-8f48-96bc48ae4bb7","Content-Type":"application/json"}});b.getAppInfo().then(b.getUserInfo().then((e=>{d=e._id,h.src=e.avatar,_=new n({title:".profile__title",subtitle:".profile__subtitle"}),_.setUserInfo(e)}))).then(b.getInitialCards().then((e=>{c=new s({data:e,renderer:e=>{u(e)}},t.cardSectionClass),c.renderItems()}))).catch((e=>{console.error(e)}));const g=new i("#profile__edit-modal",(e=>{g.toggleSaveBtn(),_.setUserInfo(e),b.updateUserInfo(e).catch((e=>{console.error(e)})).finally((()=>{g.close(),g.toggleSaveBtn()}))})),v=new i("#profile__avatar_modal",(e=>{v.toggleSaveBtn(),b.updateProfilePicture(e).then((e=>{h.src=e.avatar})).catch((e=>{console.error(e)})).finally((()=>{v.close(),v.toggleSaveBtn()}))})),k=new i("#profile__add-modal",(e=>{k.toggleSaveBtn(),b.addNewCard(e).then((e=>u(e))).catch((e=>{console.error(e)})).finally((()=>{k.toggleSaveBtn(),k.close()}))})),S=new class extends r{constructor(e){super({popupSelector:e}),this._submitBtn=this._popupElement.querySelector(".modal__save-button")}setSubmitAction(e){this._handleDelete=e}setEventListeners(){super.setEventListeners(),this._submitBtn.addEventListener("mousedown",(()=>{this._handleDelete()}))}}("#card__delete-modal"),f=new class extends r{constructor(e){super({popupSelector:e}),this._image=this._popupElement.querySelector(".modal__image"),this._caption=this._popupElement.querySelector(".modal__image-caption")}open(e,t){super.open(),this._image.src=e,this._image.alt=t,this._caption.textContent=t}}("#card__image-modal"),L={};(e=>{Array.from(document.querySelectorAll(e.formSelector)).forEach((t=>{const s=new class{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=t,this._buttonEl=this._formElement.querySelector(this._submitButtonSelector),this._inputEls=[...this._formElement.querySelectorAll(this._inputSelector)]}_setEventListeners(){this._inputEls.forEach((e=>{e.addEventListener("input",(()=>{this._checkValidity(e),this._toggleSubmitBtn(e)})),this._disableSubmitBtn(),this._formElement.addEventListener("reset",(()=>{setTimeout((()=>{this._toggleSubmitBtn(e)}),0)}))}))}_checkValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_showInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_toggleSubmitBtn(){this._hasInvalidInput()?this._disableSubmitBtn():this._enableSubmitBtn()}_hasInvalidInput(){return!this._inputEls.every((e=>e.validity.valid))}_disableSubmitBtn(){this._buttonEl.classList.add(this._inactiveButtonClass),this._buttonEl.disabled=!0}_enableSubmitBtn(){this._buttonEl.classList.remove(this._inactiveButtonClass),this._buttonEl.disabled=!1}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}(e,t),r=t.getAttribute("name");L[r]=s,s.enableValidation()}))})(t),f.setEventListeners(),k.setEventListeners(),g.setEventListeners(),S.setEventListeners(),v.setEventListeners(),o.addEventListener("click",(()=>k.open())),l.addEventListener("click",(()=>{g.open(),g.setInputValues(_.getUserInfo())})),a.addEventListener("click",(()=>{v.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWEsUUFHMUMvQixFQUFlOEIsR0FBWTFCLEVBQzNCQSxFQUFVd0Isa0JBQWtCLEdBQzVCLEVBR0pBLENBQWlCNUksR0FFakJvRSxFQUFXckMsb0JBQ1g2RSxFQUFhN0Usb0JBQ2IwRSxFQUFjMUUsb0JBQ2R1QyxFQUFZdkMsb0JBQ1o0RSxFQUFnQjVFLG9CQUNoQjRCLEVBQWM3RSxpQkFBaUIsU0FBUyxJQUFNOEgsRUFBYXBGLFNBQzNEb0MsRUFBZTlFLGlCQUFpQixTQUFTLEtBQ3ZDMkgsRUFBY2pGLE9BQ2RpRixFQUFjL0QsZUFBZXNCLEVBQVNSLGNBQWMsSUFFdERLLEVBQWlCL0UsaUJBQWlCLFNBQVMsS0FDekM2SCxFQUFnQm5GLE1BQU0sRyIsInNvdXJjZXMiOlsid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3BhZ2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwRGVsZXRlLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoZGF0YSwgY2FyZFNlbGVjdG9yLCBoYW5kbGVJbWFnZUNsaWNrLCBoYW5kbGVEZWxldGVDbGljaywgdXNlcklkLCBoYW5kbGVMaWtlQ2xpY2spIHtcclxuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sgPSBoYW5kbGVEZWxldGVDbGljaztcclxuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcclxuICAgIHRoaXMuX2NhcmRPd25lcklkID0gZGF0YS5vd25lci5faWQ7XHJcbiAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sgPSBoYW5kbGVMaWtlQ2xpY2s7XHJcbiAgICB0aGlzLl9saWtlQXJyID0gZGF0YS5saWtlcztcclxuICAgIFxyXG4gIH1cclxuXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgY2FyZEVsID0gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIHJldHVybiBjYXJkRWw7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9saWtlQnRuID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKFwiI2NhcmRfbGlrZS1idXR0b25cIik7XHJcbiAgICB0aGlzLl9kZWxldGVCdG4gPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlLWJ0blwiKTtcclxuICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5fbGlrZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge3RoaXMuX3RvZ2dsZUxpa2VCdG4oKSwgdGhpcy5faGFuZGxlTGlrZUNsaWNrKHRoaXMuX2lkKTt9KTtcclxuICAgIHRoaXMuX2RlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sodGhpcy5faWQpKTtcclxuICAgIHRoaXMuX2ltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLl9vcGVuSW1hZ2UoKSk7XHJcbiAgfVxyXG5cclxuICBfb3BlbkltYWdlKCkge1xyXG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh0aGlzLl9saW5rLCB0aGlzLl9uYW1lKTtcclxuICB9XHJcblxyXG4gIF90b2dnbGVMaWtlQnRuKCkge1xyXG4gICAgdGhpcy5fbGlrZUJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idXR0b25fZW5hYmxlZFwiKTtcclxuICB9XHJcblxyXG4gIGlzTGlrZWQoKXtcclxuICAgIHJldHVybiB0aGlzLl9saWtlQXJyLnNvbWUoKHtfaWR9KSA9PiB7ICAgICAgXHJcbiAgICAgIHJldHVybiBfaWQgPT09IHRoaXMuX3VzZXJJZCAgICAgICBcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBfcmVuZGVyTGlrZXNDb3VudGVyKCl7XHJcbiAgICB0aGlzLl9saWtlQ291bnRlciA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlX2NvdW50ZXJcIikgICAgXHJcbiAgICB0aGlzLl9saWtlQ291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VBcnIubGVuZ3RoXHJcblxyXG4gIH1cclxuXHJcbiAgdXBkYXRlTGlrZXNDb3VudGVyKGxpa2VzKXtcclxuICAgIHRoaXMuX2xpa2VBcnIgPSBsaWtlcztcclxuICAgIHRoaXMuX3JlbmRlckxpa2VzQ291bnRlcigpXHJcbiAgfVxyXG5cclxuICByZW1vdmVDYXJkKCkge1xyXG4gICAgdGhpcy5fY2FyZC5yZW1vdmUoKTtcclxuICAgIHRoaXMuX2NhcmQgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgZ2V0VmlldygpIHtcclxuICAgIHRoaXMuX2NhcmQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2ltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9pbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIC8vY2hlY2sgaWYgdXNlciBhbmQgb3duZXIgSUQgbWF0Y2hlc1xyXG4gICAgaWYodGhpcy5fdXNlcklkICE9PSB0aGlzLl9jYXJkT3duZXJJZCl7XHJcbiAgICAgIHRoaXMuX2RlbGV0ZUJ0bi5yZW1vdmUoKVxyXG4gICAgfSBcclxuICAgIGlmKHRoaXMuaXNMaWtlZCgpKXtcclxuICAgICAgdGhpcy5fdG9nZ2xlTGlrZUJ0bigpXHJcbiAgICB9XHJcbiAgICB0aGlzLl9yZW5kZXJMaWtlc0NvdW50ZXIoKVxyXG5cclxuICAgIHJldHVybiB0aGlzLl9jYXJkO1xyXG4gIH1cclxufVxyXG4iLCIvL3NlbGVjdG9ycyBmb3IgdmFsaWRhdGlvblxyXG5cclxuY29uc3QgY29uZmlnID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX3NhdmUtYnV0dG9uXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fc2F2ZS1idXR0b24tZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwiLm1vZGFsX19pbnB1dC10eXBlLWVycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiLFxyXG4gIGNhcmRTZWN0aW9uQ2xhc3M6IFwiLmNhcmRzX19saXN0XCIsXHJcbiAgY2FyZFRlcGxhdGU6IFwiLmNhcmRfX3RlcGxhdGVcIixcclxufTtcclxuXHJcbmNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxyXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS95b3NlbWl0ZS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvbGFrZS1sb3Vpc2UuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkJhbGQgTW91bnRhaW5zXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYXRlbWFyXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2xhdGVtYXIuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxyXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS92YW5vaXNlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9sYWdvLmpwZ1wiLFxyXG4gIH0sXHJcbl07XHJcblxyXG5leHBvcnQgeyBjb25maWcsIGluaXRpYWxDYXJkcyB9O1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IGRhdGEsIHJlbmRlcmVyIH0sIGNhcmRMaXN0KSB7XHJcbiAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zID0gZGF0YTtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNhcmRMaXN0KTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVkSXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yIH0pIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgfVxyXG4gIG9wZW4oKSB7XHJcbiAgICAvL29wZW4gcG9wdXBcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5fY2xvc2VCeUVzYyk7XHJcbiAgfVxyXG4gIGNsb3NlKCkge1xyXG4gICAgLy9jbG9zZSBwb3B1cFxyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9jbG9zZUJ5RXNjKTtcclxuICB9XHJcbiAgX2Nsb3NlQnlFc2MgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsXCIpKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX19jbG9zZS1idXR0b25cIikpIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcclxuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVTdWJtaXQpIHtcclxuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTsgICAgXHJcbiAgICB0aGlzLl9wb3B1cEZvcm1FbCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5mb3JtU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW5wdXRFbHMgPSB0aGlzLl9wb3B1cEZvcm1FbC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5pbnB1dFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IGhhbmRsZVN1Ym1pdDtcclxuICAgIHRoaXMuX3N1Ym1pdEJ0biA9IHRoaXMuX3BvcHVwRm9ybUVsLnF1ZXJ5U2VsZWN0b3IoY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTsgICAgXHJcbiAgfVxyXG4gIHNldElucHV0VmFsdWVzKGRhdGEpIHtcclxuICAgIHRoaXMuX2lucHV0RWxzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIC8vIGhlcmUgeW91IGluc2VydCB0aGUgYHZhbHVlYCBieSB0aGUgYG5hbWVgIG9mIHRoZSBpbnB1dFxyXG4gICAgICBpbnB1dC52YWx1ZSA9IGRhdGFbaW5wdXQubmFtZV07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX3BvcHVwRm9ybUVsLnJlc2V0KCk7XHJcbiAgfSAgXHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XHJcbiAgICAvL2dldCBhbGwgaW5wdXRzICAgIFxyXG4gICAgLy9sb29wIG92ZXIgYWxsIGlucHV0c1xyXG4gICAgdGhpcy5faW5wdXRFbHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgLy9hc3NpZ24gaW5wdXRzIHRvIGVtcHR5IG9iamVjdCBieSBuYW1lPXZhbHVlXHJcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBpbnB1dFZhbHVlcztcclxuICB9XHJcblxyXG4gIHRvZ2dsZVNhdmVCdG4oKXtcclxuICAgIHRoaXMuX3N1Ym1pdEJ0bi5jbGFzc0xpc3QudG9nZ2xlKFwibW9kYWxfX3NhdmluZy1idXR0b25cIilcclxuICAgIGNvbnNvbGUubG9nKFwiaXRzIHdvcmtpbmdcIilcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3BvcHVwRm9ybUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVTdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgdGl0bGUsIHN1YnRpdGxlIH0pIHtcclxuICAgIHRoaXMuX25hbWVFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGl0bGUpO1xyXG4gICAgdGhpcy5fam9iRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHN1YnRpdGxlKTtcclxuICB9XHJcbiAgXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiB0aGlzLl9uYW1lRWwudGV4dENvbnRlbnQsXHJcbiAgICAgIGFib3V0OiB0aGlzLl9qb2JFbC50ZXh0Q29udGVudCxcclxuICAgIH07XHJcbiAgfVxyXG4gIHNldFVzZXJJbmZvKHZhbHVlKSB7XHJcbiAgICBcclxuICAgIC8vc2V0IHVzZXIgaW5mbyBmcm9tIHZhbHVlXHJcbiAgICB0aGlzLl9uYW1lRWwudGV4dENvbnRlbnQgPSB2YWx1ZS5uYW1lO1xyXG4gICAgdGhpcy5fam9iRWwudGV4dENvbnRlbnQgPSB2YWx1ZS5hYm91dDtcclxuICB9XHJcbn1cclxuIiwiLy9idXQgd2h5IHdlIGNhbm5vdCBqdXN0IHVzZSBUQUIgaW5kZW50YXRpb24gb24gY29kZSBmb3JtYXR0aW5nPyB3aHkgaXQgc2hvdWxkIGJlIGRvdWJsZSBzcGFjZT9cclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IFBvcHVwRGVsZXRlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwRGVsZXRlLmpzXCI7XHJcbmltcG9ydCBcIi4uL3BhZ2UvaW5kZXguY3NzXCI7XHJcblxyXG5jb25zdCBwcm9maWxlQWRkQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlX19hZGQtYnV0dG9uXCIpO1xyXG5jb25zdCBwcm9maWxlRWRpdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZV9fZWRpdC1idG5cIik7XHJcbmNvbnN0IHByb2ZpbGVBdmF0YXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGVfX2F2YXRhci1idG5cIik7XHJcbmNvbnN0IHByb2ZpbGVBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3BpY3R1cmVcIik7XHJcblxyXG4vL3BsYWNlaG9sZGVyIGZvciBzZWN0aW9uXHJcbmxldCBjYXJkU2VjdGlvbjtcclxuLy9wbGFjZWhvbGRlciBmb3IgdXNlckluZm9cclxubGV0IHVzZXJJbmZvO1xyXG4vL3BsYWNlaG9sZGVyIGZvciB1c2VySWRcclxubGV0IHVzZXJJZDtcclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoaXRlbSkge1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gbmV3IENhcmQoXHJcbiAgICBpdGVtLFxyXG4gICAgXCIjY2FyZF9fdGVtcGxhdGVcIixcclxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXHJcbiAgICBoYW5kbGVEZWxldGVDbGljayxcclxuICAgIHVzZXJJZCxcclxuICAgIGhhbmRsZUxpa2VDbGlja1xyXG4gICkuZ2V0VmlldygpO1xyXG4gIHJldHVybiBjYXJkRWxlbWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyQ2FyZChpdGVtKSB7XHJcbiAgY29uc3QgY2FyZCA9IGNyZWF0ZUNhcmQoaXRlbSk7XHJcbiAgY2FyZFNlY3Rpb24uYWRkSXRlbShjYXJkKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlSW1hZ2VDbGljayhuYW1lLCBsaW5rKSB7XHJcbiAgcG9wdXBJbWFnZS5vcGVuKG5hbWUsIGxpbmspO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVEZWxldGVDbGljayhjYXJkSWQpeyAgXHJcbiAgcG9wdXBEZWxldGUub3BlbigpXHJcbiAgcG9wdXBEZWxldGUuc2V0U3VibWl0QWN0aW9uKCAoKSA9PntcclxuICAgIGFwaS5kZWxldGVDYXJkKGNhcmRJZCkudGhlbiggKCkgPT4geyAgICAgIFxyXG4gICAgICB0aGlzLnJlbW92ZUNhcmQoKVxyXG4gICAgICBwb3B1cERlbGV0ZS5jbG9zZSgpXHJcbiAgICB9KVxyXG4gIH0pICBcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlTGlrZUNsaWNrKGNhcmRJZCl7ICBcclxuICBpZih0aGlzLmlzTGlrZWQoKSl7XHJcbiAgICBhcGkucmVtb3ZlTGlrZShjYXJkSWQpLnRoZW4oKHJlcykgPT4ge3RoaXMudXBkYXRlTGlrZXNDb3VudGVyKHJlcy5saWtlcyl9KSAgIFxyXG4gIH1cclxuICBlbHNle1xyXG4gICAgYXBpLmFkZExpa2UoY2FyZElkKS50aGVuKChyZXMpID0+IHt0aGlzLnVwZGF0ZUxpa2VzQ291bnRlcihyZXMubGlrZXMpfSkgIFxyXG4gICBcclxuICB9ICBcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuLy9uZXcgaW5zdCBvZiBBUEkoc2V0IG9wdGlvbnMpXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC0xMlwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiY2Q4YjM5ODYtZjNkNi00ZGE5LThmNDgtOTZiYzQ4YWU0YmI3XCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59KTtcclxuXHJcbmFwaS5nZXRBcHBJbmZvKClcclxuICAudGhlbihhcGkuZ2V0VXNlckluZm8oKVxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAvL2Fzc2lnbiBuZXcgdmFsdWUgZm9yIHVzZXJJZFxyXG4gICAgICB1c2VySWQgPSByZXMuX2lkO1xyXG4gICAgICAvL2Fzc2lnbiBhdmF0YXJcclxuICAgICAgcHJvZmlsZUF2YXRhci5zcmMgPSByZXMuYXZhdGFyICBcclxuICAgICAgLy9uZXcgVXNlckluZm8gXHJcbiAgICAgIHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICAgICAgICB0aXRsZTogXCIucHJvZmlsZV9fdGl0bGVcIixcclxuICAgICAgICBzdWJ0aXRsZTogXCIucHJvZmlsZV9fc3VidGl0bGVcIixcclxuICAgICAgfSkgIFxyXG4gICAgICAvL3NldHRpbmcgdXNlckluZm8gZnJvbSBzZXJ2ZXJcclxuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8ocmVzKVxyXG4gICAgfSkpXHJcbiAgLnRoZW4oXHJcbiAgICAvLyBsb2FkZWQgY2FyZHMgZnJvbSBzZXJ2ZXJcclxuICAgIGFwaS5nZXRJbml0aWFsQ2FyZHMoKVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIC8vbmV3IHNlY3Rpb25cclxuICAgICAgY2FyZFNlY3Rpb24gPSBuZXcgU2VjdGlvbihcclxuICAgICAgICB7XHJcbiAgICAgICAgICAvL3VzaW5nIGRhdGEgZnJvbSBzZXJ2ZXJcclxuICAgICAgICAgIGRhdGE6IHJlcyxcclxuICAgICAgICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICByZW5kZXJDYXJkKGl0ZW0pO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbmZpZy5jYXJkU2VjdGlvbkNsYXNzXHJcbiAgICAgICk7XHJcbiAgICAgIGNhcmRTZWN0aW9uLnJlbmRlckl0ZW1zKCk7XHJcbiAgfSkpXHJcbiAgLmNhdGNoKChlcnIpID0+e1xyXG4gICBjb25zb2xlLmVycm9yKGVycilcclxufSk7XHJcbiAgXHJcblxyXG5cclxuXHJcblxyXG5cclxuY29uc3QgcG9wdXBFZGl0Rm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gIFwiI3Byb2ZpbGVfX2VkaXQtbW9kYWxcIixcclxuICAoaW5wdXRWYWx1ZXMpID0+IHtcclxuICAgIHBvcHVwRWRpdEZvcm0udG9nZ2xlU2F2ZUJ0bigpXHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyhpbnB1dFZhbHVlcyk7XHJcbiAgICAvL3VwZGF0aW5nIHVzZXJJbmZvIChvbj9hdD9pbikgc2VydmVyXHJcbiAgICBhcGkudXBkYXRlVXNlckluZm8oaW5wdXRWYWx1ZXMpXHJcbiAgICAuY2F0Y2goKGVycikgPT57XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKVxyXG4gICAgfSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtwb3B1cEVkaXRGb3JtLmNsb3NlKCk7IHBvcHVwRWRpdEZvcm0udG9nZ2xlU2F2ZUJ0bigpfSk7ICAgIFxyXG4gIH1cclxuKTtcclxuXHJcbmNvbnN0IHBvcHVwQXZhdGFyRnJvbSA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI3Byb2ZpbGVfX2F2YXRhcl9tb2RhbFwiLCAoaW5wdXRWYWx1ZXMpID0+IHsgIFxyXG4gIHBvcHVwQXZhdGFyRnJvbS50b2dnbGVTYXZlQnRuKCkgIFxyXG4gIGFwaS51cGRhdGVQcm9maWxlUGljdHVyZShpbnB1dFZhbHVlcykgIFxyXG4gIC50aGVuKChyZXMpID0+IHtcclxuICAgIHByb2ZpbGVBdmF0YXIuc3JjID0gcmVzLmF2YXRhclxyXG4gIH0pICAgXHJcbiAgLmNhdGNoKChlcnIpID0+e1xyXG4gICAgY29uc29sZS5lcnJvcihlcnIpXHJcbiAgfSlcclxuICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICBwb3B1cEF2YXRhckZyb20uY2xvc2UoKTsgXHJcbiAgICBwb3B1cEF2YXRhckZyb20udG9nZ2xlU2F2ZUJ0bigpfSlcclxufSlcclxuXHJcbmNvbnN0IHBvcHVwQWRkRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI3Byb2ZpbGVfX2FkZC1tb2RhbFwiLCAoaW5wdXRWYWx1ZXMpID0+IHtcclxuICBwb3B1cEFkZEZvcm0udG9nZ2xlU2F2ZUJ0bigpXHJcbiAgYXBpLmFkZE5ld0NhcmQoaW5wdXRWYWx1ZXMpXHJcbiAgLnRoZW4oKGRhdGEpID0+IHJlbmRlckNhcmQoZGF0YSkpXHJcbiAgLmNhdGNoKChlcnIpID0+e1xyXG4gICAgY29uc29sZS5lcnJvcihlcnIpXHJcbiAgfSkgIFxyXG4gIC5maW5hbGx5KCgpID0+IHtwb3B1cEFkZEZvcm0udG9nZ2xlU2F2ZUJ0bigpOyBwb3B1cEFkZEZvcm0uY2xvc2UoKX0pXHJcbn0pO1xyXG5cclxuY29uc3QgcG9wdXBEZWxldGUgPSBuZXcgUG9wdXBEZWxldGUoXCIjY2FyZF9fZGVsZXRlLW1vZGFsXCIpO1xyXG5cclxuY29uc3QgcG9wdXBJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIiNjYXJkX19pbWFnZS1tb2RhbFwiKTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5jb25zdCBmb3JtVmFsaWRhdG9ycyA9IHt9O1xyXG5cclxuLy8gZW5hYmxlIHZhbGlkYXRpb25cclxuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9IChjb25maWcpID0+IHtcclxuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKSk7XHJcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpO1xyXG4gICAgLy8gaGVyZSB5b3UgZ2V0IHRoZSBuYW1lIG9mIHRoZSBmb3JtXHJcbiAgICBjb25zdCBmb3JtTmFtZSA9IGZvcm1FbGVtZW50LmdldEF0dHJpYnV0ZShcIm5hbWVcIik7XHJcblxyXG4gICAgLy8gaGVyZSB5b3Ugc3RvcmUgYSB2YWxpZGF0b3IgYnkgdGhlIGBuYW1lYCBvZiB0aGUgZm9ybVxyXG4gICAgZm9ybVZhbGlkYXRvcnNbZm9ybU5hbWVdID0gdmFsaWRhdG9yO1xyXG4gICAgdmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuICB9KTtcclxufTtcclxuXHJcbmVuYWJsZVZhbGlkYXRpb24oY29uZmlnKTtcclxuXHJcbnBvcHVwSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucG9wdXBBZGRGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnBvcHVwRWRpdEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucG9wdXBEZWxldGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxucG9wdXBBdmF0YXJGcm9tLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnByb2ZpbGVBZGRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHBvcHVwQWRkRm9ybS5vcGVuKCkpO1xyXG5wcm9maWxlRWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHBvcHVwRWRpdEZvcm0ub3BlbigpO1xyXG4gIHBvcHVwRWRpdEZvcm0uc2V0SW5wdXRWYWx1ZXModXNlckluZm8uZ2V0VXNlckluZm8oKSk7XHJcbn0pO1xyXG5wcm9maWxlQXZhdGFyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgcG9wdXBBdmF0YXJGcm9tLm9wZW4oKTsgIFxyXG59KVxyXG5cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpe1xyXG4gICAgICAgIHRoaXMuX2Jhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmw7XHJcbiAgICAgICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcclxuXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QXBwSW5mbygpe1xyXG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW3RoaXMuZ2V0SW5pdGlhbENhcmRzLCB0aGlzLmdldFVzZXJJbmZvXSkgLnRoZW4oKHJlcykgPT57XHJcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIF9jaGVja1Jlc3BvbnNlKHJlcykge1xyXG4gICAgICAgIGlmIChyZXMub2spIHsgICAgICAgICAgXHJcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgfVxyXG4gICAgXHJcblxyXG4gICAgZ2V0SW5pdGlhbENhcmRzKCl7XHJcbiAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2Ase1xyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSkgXHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VXNlckluZm8oKXtcclxuICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCx7XHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xyXG4gICAgICB9KVxyXG4gICAgICAudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICB1cGRhdGVVc2VySW5mbyhpbnB1dCl7XHJcbiAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIG5hbWU6IGlucHV0Lm5hbWUgLFxyXG4gICAgICAgICAgYWJvdXQ6IGlucHV0LmFib3V0XHJcbiAgICAgICAgfSlcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcclxuICAgIH1cclxuXHJcbiAgICBhZGROZXdDYXJkKGlucHV0KXtcclxuICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBuYW1lOiBpbnB1dC5uYW1lLFxyXG4gICAgICAgICAgbGluazogaW5wdXQubGlua1xyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlQ2FyZChjYXJkSWQpe1xyXG4gICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCx7XHJcbiAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSlcclxuICAgIH1cclxuICAgIGFkZExpa2UoY2FyZElkKXtcclxuICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAse1xyXG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXHJcbiAgICB9XHJcbiAgICByZW1vdmVMaWtlKGNhcmRJZCl7ICAgICAgXHJcbiAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLHtcclxuICAgICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcclxuICAgICAgIH0pXHJcbiAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpICAgICAgXHJcbiAgICB9XHJcbiAgICB1cGRhdGVQcm9maWxlUGljdHVyZShpbnB1dCl7XHJcbiAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLHtcclxuICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIGF2YXRhcjogaW5wdXQubGlua1xyXG4gICAgICAgIH0pXHJcbiAgICAgIH0pXHJcbiAgICAgIC50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpXHJcbiAgICB9XHJcbiAgICBcclxufVxyXG5cclxuXHJcbi8vaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cElkL3VzZXJzL21lL2F2YXRhclxyXG5cclxuXHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cERlbGV0ZSBleHRlbmRzIFBvcHVwe1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcil7XHJcbiAgICAgICAgc3VwZXIoe3BvcHVwU2VsZWN0b3J9KVxyXG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ0biA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zYXZlLWJ1dHRvblwiKTsgICAgICAgIFxyXG4gICAgICAgICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBzZXRTdWJtaXRBY3Rpb24oaGFuZGxlRGVsZXRlKXtcclxuICAgICAgICB0aGlzLl9oYW5kbGVEZWxldGUgPSBoYW5kbGVEZWxldGVcclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpe1xyXG4gICAgICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKClcclxuICAgICAgICB0aGlzLl9zdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZSgpOyAgICAgICAgICAgXHJcbiAgICAgICAgfSk7XHJcbiAgICB9ICAgIFxyXG59OyIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xyXG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2VcIik7XHJcbiAgICB0aGlzLl9jYXB0aW9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlLWNhcHRpb25cIik7XHJcbiAgfVxyXG4gIG9wZW4obmFtZSwgbGluaykge1xyXG4gICAgc3VwZXIub3BlbigpOyAgICBcclxuICAgIHRoaXMuX2ltYWdlLnNyYyA9IG5hbWU7XHJcbiAgICB0aGlzLl9pbWFnZS5hbHQgPSBsaW5rO1xyXG4gICAgdGhpcy5fY2FwdGlvbi50ZXh0Q29udGVudCA9IGxpbms7XHJcbiAgfVxyXG59XHJcbiIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gY29uZmlnLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBjb25maWcuZXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgICB0aGlzLl9idXR0b25FbCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yXHJcbiAgICApO1xyXG4gICAgdGhpcy5faW5wdXRFbHMgPSBbXHJcbiAgICAgIC4uLnRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvciksXHJcbiAgICBdO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5faW5wdXRFbHMuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xyXG4gICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tWYWxpZGl0eShpbnB1dEVsKTtcclxuICAgICAgICB0aGlzLl90b2dnbGVTdWJtaXRCdG4oaW5wdXRFbCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLl9kaXNhYmxlU3VibWl0QnRuKCk7XHJcbiAgICAgIC8vcmVzZXQgXCJldmVudFwiXHJcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNldFwiLCAoKSA9PiB7XHJcbiAgICAgICAgLy8gYHNldFRpbWVvdXRgIGlzIG5lZWRlZCB0byB3YWl0IHRpbGwgdGhlIGZvcm0gaXMgZnVsbHkgcmVzZXQgYW5kIHRoZW4gdG8gY2FsbCBgdG9nZ2xlQnV0dG9uU3RhdGVgXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLl90b2dnbGVTdWJtaXRCdG4oaW5wdXRFbCk7XHJcbiAgICAgICAgfSwgMCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tWYWxpZGl0eShpbnB1dEVsKSB7XHJcbiAgICAvL3Rha2luZyBpbnB1dEVsIGZyb20gZXZlbnQgbGlzZW5lcnNcclxuICAgIGlmICghaW5wdXRFbC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWwpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAjJHtpbnB1dEVsLmlkfS1lcnJvcmBcclxuICAgICk7XHJcbiAgICBpbnB1dEVsLmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yTWVzc2FnZS50ZXh0Q29udGVudCA9IGlucHV0RWwudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICBlcnJvck1lc3NhZ2UuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKSB7XHJcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgIyR7aW5wdXRFbC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG4gICAgaW5wdXRFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvck1lc3NhZ2UudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgZXJyb3JNZXNzYWdlLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfdG9nZ2xlU3VibWl0QnRuKCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgIHRoaXMuX2Rpc2FibGVTdWJtaXRCdG4oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2VuYWJsZVN1Ym1pdEJ0bigpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgIHJldHVybiAhdGhpcy5faW5wdXRFbHMuZXZlcnkoKGlucHV0RWwpID0+IGlucHV0RWwudmFsaWRpdHkudmFsaWQpO1xyXG4gIH1cclxuXHJcbiAgX2Rpc2FibGVTdWJtaXRCdG4oKSB7XHJcbiAgICB0aGlzLl9idXR0b25FbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgdGhpcy5fYnV0dG9uRWwuZGlzYWJsZWQgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgX2VuYWJsZVN1Ym1pdEJ0bigpIHtcclxuICAgIHRoaXMuX2J1dHRvbkVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9idXR0b25FbC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7XHJcbiJdLCJuYW1lcyI6WyJDYXJkIiwiY29uc3RydWN0b3IiLCJkYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsImhhbmRsZURlbGV0ZUNsaWNrIiwidXNlcklkIiwiaGFuZGxlTGlrZUNsaWNrIiwidGhpcyIsIl9pZCIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlSW1hZ2VDbGljayIsIl9oYW5kbGVEZWxldGVDbGljayIsIl91c2VySWQiLCJfY2FyZE93bmVySWQiLCJvd25lciIsIl9oYW5kbGVMaWtlQ2xpY2siLCJfbGlrZUFyciIsImxpa2VzIiwiX2dldFRlbXBsYXRlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9saWtlQnRuIiwiX2NhcmQiLCJfZGVsZXRlQnRuIiwiX2ltYWdlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl90b2dnbGVMaWtlQnRuIiwiX29wZW5JbWFnZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsImlzTGlrZWQiLCJzb21lIiwiX3JlZiIsIl9yZW5kZXJMaWtlc0NvdW50ZXIiLCJfbGlrZUNvdW50ZXIiLCJ0ZXh0Q29udGVudCIsImxlbmd0aCIsInVwZGF0ZUxpa2VzQ291bnRlciIsInJlbW92ZUNhcmQiLCJyZW1vdmUiLCJnZXRWaWV3Iiwic3JjIiwiYWx0IiwiY29uZmlnIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJjYXJkU2VjdGlvbkNsYXNzIiwiY2FyZFRlcGxhdGUiLCJTZWN0aW9uIiwiY2FyZExpc3QiLCJyZW5kZXJlciIsIl9yZW5kZXJlZEl0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImFkZEl0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsInJlbmRlckl0ZW1zIiwiZm9yRWFjaCIsIml0ZW0iLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50Iiwib3BlbiIsImFkZCIsIl9jbG9zZUJ5RXNjIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVTdWJtaXQiLCJzdXBlciIsIl9wb3B1cEZvcm1FbCIsIl9pbnB1dEVscyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfaGFuZGxlU3VibWl0IiwiX3N1Ym1pdEJ0biIsInNldElucHV0VmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsInJlc2V0IiwiX2dldElucHV0VmFsdWVzIiwiaW5wdXRWYWx1ZXMiLCJ0b2dnbGVTYXZlQnRuIiwiY29uc29sZSIsImxvZyIsIlVzZXJJbmZvIiwidGl0bGUiLCJzdWJ0aXRsZSIsIl9uYW1lRWwiLCJfam9iRWwiLCJnZXRVc2VySW5mbyIsImFib3V0Iiwic2V0VXNlckluZm8iLCJwcm9maWxlQWRkQnRuIiwicHJvZmlsZUVkaXRCdG4iLCJwcm9maWxlQXZhdGFyQnRuIiwicHJvZmlsZUF2YXRhciIsImNhcmRTZWN0aW9uIiwidXNlckluZm8iLCJyZW5kZXJDYXJkIiwiY2FyZCIsImNyZWF0ZUNhcmQiLCJwb3B1cEltYWdlIiwiY2FyZElkIiwicG9wdXBEZWxldGUiLCJzZXRTdWJtaXRBY3Rpb24iLCJhcGkiLCJkZWxldGVDYXJkIiwidGhlbiIsInJlbW92ZUxpa2UiLCJyZXMiLCJhZGRMaWtlIiwib3B0aW9ucyIsIl9iYXNlVXJsIiwiYmFzZVVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsImdldEFwcEluZm8iLCJQcm9taXNlIiwiYWxsIiwiZ2V0SW5pdGlhbENhcmRzIiwiX2NoZWNrUmVzcG9uc2UiLCJvayIsImpzb24iLCJyZWplY3QiLCJzdGF0dXMiLCJmZXRjaCIsInVwZGF0ZVVzZXJJbmZvIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhZGROZXdDYXJkIiwidXBkYXRlUHJvZmlsZVBpY3R1cmUiLCJhdmF0YXIiLCJhdXRob3JpemF0aW9uIiwiY2F0Y2giLCJlcnIiLCJlcnJvciIsInBvcHVwRWRpdEZvcm0iLCJmaW5hbGx5IiwicG9wdXBBdmF0YXJGcm9tIiwicG9wdXBBZGRGb3JtIiwiaGFuZGxlRGVsZXRlIiwiX2hhbmRsZURlbGV0ZSIsIl9jYXB0aW9uIiwiZm9ybVZhbGlkYXRvcnMiLCJBcnJheSIsImZyb20iLCJmb3JtRWxlbWVudCIsInZhbGlkYXRvciIsIl9pbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJfZm9ybUVsZW1lbnQiLCJfYnV0dG9uRWwiLCJpbnB1dEVsIiwiX2NoZWNrVmFsaWRpdHkiLCJfdG9nZ2xlU3VibWl0QnRuIiwiX2Rpc2FibGVTdWJtaXRCdG4iLCJzZXRUaW1lb3V0IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsImVycm9yTWVzc2FnZSIsImlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGFzSW52YWxpZElucHV0IiwiX2VuYWJsZVN1Ym1pdEJ0biIsImV2ZXJ5IiwiZGlzYWJsZWQiLCJlbmFibGVWYWxpZGF0aW9uIiwicHJldmVudERlZmF1bHQiLCJmb3JtTmFtZSIsImdldEF0dHJpYnV0ZSJdLCJzb3VyY2VSb290IjoiIn0=